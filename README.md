# üèóÔ∏è PingTower

**–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–∞–π—Ç–æ–≤ –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ**

–í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –≤–µ–±-—Ä–µ—Å—É—Ä—Å–æ–≤ —Å real-time —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –∏ –ø–æ–ª–Ω–æ–π API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîç **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–∞–π—Ç–æ–≤
- üìß **Smart —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - email –∞–ª–µ—Ä—Ç—ã —á–µ—Ä–µ–∑ MailerSend SMTP
- üîê **JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** - –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
- üìä **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** - ClickHouse –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ª–æ–≥–æ–≤ –∏ –º–µ—Ç—Ä–∏–∫
- üåê **REST API** - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ Swagger UI
- üê≥ **Docker-ready** - –ø—Ä–æ—Å—Ç–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö
- ‚ö° **Kafka –æ—á–µ—Ä–µ–¥–∏** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- üéØ **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã** - –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)  
- [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
- [API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#-api-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞](#Ô∏è-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
- [–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞](#—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
- [–û—Ç–ª–∞–¥–∫–∞](#-–æ—Ç–ª–∞–¥–∫–∞-–∏-—Ä–µ—à–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)
- [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏](#Ô∏è-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏)

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–°–∏—Å—Ç–µ–º–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∏ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 5 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:

![–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã](architecture.png)

### üåê –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã

- **üåê API Service** (8080) - Gateway, —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤, JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –∑–∞–ø—É—Å–∫ Cron –¥–ª—è —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–∏–Ω–≥–∞ —Å–∞–π—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
- **üîê Auth Service** (8081) - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è, –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–æ–≤
- **üì° Ping Service** (8082) - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–∞–π—Ç–æ–≤ —Å —Ç–∞–π–º–∞—É—Ç–∞–º–∏
- **üóÑÔ∏è DB Service** (8083) - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏, PostgreSQL –∏ ClickHouse
- **üìß Notification Service** (8084) - email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Kafka

### üóÑÔ∏è –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

- **PostgreSQL** (5432) - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —Å–∞–π—Ç—ã, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- **ClickHouse** (8123/9000) - –ª–æ–≥–∏ –ø—Ä–æ–≤–µ—Ä–æ–∫, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- **Redis** (6379) - refresh —Ç–æ–∫–µ–Ω—ã, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

### üì® –û—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π

- **Apache Kafka** (19092) - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- **Zookeeper** (2181) - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è Kafka

### üîß –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ UI

- **Kafka UI** (8085) - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—á–µ—Ä–µ–¥–µ–π —Å–æ–æ–±—â–µ–Ω–∏–π  
- **Swagger UI** (8080/swagger) - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **Docker** (20.10+)
- **Docker Compose** (2.0+)
- **8 –ì–ë RAM** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### 1Ô∏è‚É£ –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫
```bash
# –°–∫–∞—á–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
git clone <repository-url>
cd PingTower

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose up -d --build

# –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≥—Ä—É–∑–∫–∏ (1-2 –º–∏–Ω—É—Ç—ã)
docker-compose logs -f api_service
```

### 2Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
```bash
# Health check –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
curl http://localhost:8080/health          # API Gateway
curl http://localhost:8081/health          # Auth Service  
curl http://localhost:8084/health          # Notification Service

# –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
open http://localhost:8080/swagger         # Swagger UI
open http://localhost:8085                 # Kafka UI
```

### 3Ô∏è‚É£ –ì–æ—Ç–æ–≤–æ! 
–°–∏—Å—Ç–µ–º–∞ –∑–∞–ø—É—â–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ API.

## üåê –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:
- **Swagger UI** - http://localhost:8080/swagger - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API
- **Kafka UI** - http://localhost:8085 - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—á–µ—Ä–µ–¥–µ–π —Å–æ–æ–±—â–µ–Ω–∏–π

## üìñ API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### üåü Swagger UI

**–ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:**
```
http://localhost:8080/swagger/
```

Swagger UI —Å–æ–¥–µ—Ä–∂–∏—Ç:
- ‚úÖ **22 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞** –≤—Å–µ—Ö 5 –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** API
- ‚úÖ **–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤** –∏ –æ—Ç–≤–µ—Ç–æ–≤
- ‚úÖ **–°—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö** –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
- ‚úÖ **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** —á–µ—Ä–µ–∑ Bearer —Ç–æ–∫–µ–Ω—ã

### üîë –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

#### API Service (8080)
- `POST /register` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /login` - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `GET /checkers` - —Å–ø–∏—Å–æ–∫ —Å–∞–π—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /checkers` - –¥–æ–±–∞–≤–∏—Ç—å —Å–∞–π—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- `GET /checker/{id}` - –ª–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–∞–π—Ç–∞
- `POST /pingAll` - –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –≤—Å–µ—Ö —Å–∞–π—Ç–æ–≤
- `GET /health` - health check

#### Auth Service (8081)
- `POST /generate` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è JWT —Ç–æ–∫–µ–Ω–æ–≤
- `POST /validate` - –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞
- `POST /refresh` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤

#### DB Service (8083)
- `GET /all-users-sites` - –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ —Å–∞–π—Ç—ã
- `POST /ping` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–∞ –ø–∏–Ω–≥–∞
- `GET /user/{id}/email` - –ø–æ–ª—É—á–∏—Ç—å email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–í—Å–µ –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç JWT —Ç–æ–∫–µ–Ω:
```bash
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `docker-compose.yml` –∏ `.env` —Ñ–∞–π–ª–∞—Ö:

#### Auth Service
```env
SERVER_PORT=8081
REDIS_URL=redis:6379
JWT_SECRET=your-super-secret-jwt-key-here
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d
```

#### Notification Service
```env
MAILERSEND_API_KEY=mlsn.56553fafd04e982332a4ef9003ef6fc0345de9fcea0473122e482322f2b83938
FROM_EMAIL=MS_mIKkkJ@test-xkjn41m6jz04z781.mlsender.net
FROM_NAME=PingTower Alert System
SMTP_HOST=smtp.mailersend.net
SMTP_PORT=587
SMTP_USERNAME=MS_mIKkkJ@test-xkjn41m6jz04z781.mlsender.net
SMTP_PASSWORD=mssp.SFuGnXj.zr6ke4n0z39lon12.CtzsE9m
KAFKA_BROKERS=kafka1:29092
KAFKA_TOPIC=notification-alerts
KAFKA_CONSUMER_GROUP=notification-service
HEALTH_PORT=8084
```

#### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
```env
# PostgreSQL
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=ping_db

# ClickHouse
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=
CLICKHOUSE_DB=ping_db
```

### üìß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SMTP

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ MailerSend:

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [MailerSend](https://mailersend.com)
2. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á –∏ SMTP –¥–∞–Ω–Ω—ã–µ
3. –û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `docker-compose.yml`:
   - `MAILERSEND_API_KEY`
   - `FROM_EMAIL` 
   - `SMTP_USERNAME`
   - `SMTP_PASSWORD`

### üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**‚ö†Ô∏è –í–∞–∂–Ω–æ:** –ü–µ—Ä–µ–¥ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–æ–º –æ–±–Ω–æ–≤–∏—Ç–µ:
- `JWT_SECRET` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á
- –ü–∞—Ä–æ–ª–∏ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
- SMTP –∫–ª—é—á–∏

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–ó–∞–ø—É—Å–∫ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:

```bash
# API —Å–µ—Ä–≤–∏—Å
cd backend/api_service && go run cmd/main.go

# –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è  
cd backend/auth && go run cmd/main.go

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∞–π—Ç–æ–≤
cd backend/ping_service && go run cmd/main.go

# –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
cd backend/notification_service && go run cmd/main.go
```

## üîß –û—Ç–ª–∞–¥–∫–∞ –∏ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### üìã –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
```bash
# –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose ps

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats --no-stream

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose logs -f [api_service|auth_service|ping_service|db_service|notification_service]

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose logs --tail=50
```

### üóÑÔ∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
```bash
# PostgreSQL
docker exec pingtower-postgres_db-1 psql -U postgres -d ping_db -c "SELECT version();"
docker exec pingtower-postgres_db-1 psql -U postgres -d ping_db -c "\dt"

# ClickHouse
docker exec pingtower-clickhouse_db-1 clickhouse-client --query "SELECT version()"
docker exec pingtower-clickhouse_db-1 clickhouse-client --query "SHOW TABLES"

# Redis
docker exec pingtower-redis-1 redis-cli ping
docker exec pingtower-redis-1 redis-cli info stats
```

### üì® –ü—Ä–æ–≤–µ—Ä–∫–∞ Kafka
```bash
# –°–ø–∏—Å–æ–∫ —Ç–æ–ø–∏–∫–æ–≤
docker exec pingtower-kafka1-1 kafka-topics --bootstrap-server localhost:29092 --list

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Ç–æ–ø–∏–∫–µ
docker exec pingtower-kafka1-1 kafka-console-consumer \
  --bootstrap-server localhost:29092 \
  --topic notification-alerts \
  --from-beginning --max-messages 10

# Kafka UI: http://localhost:8085
```

### üö® –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 1. –°–µ—Ä–≤–∏—Å—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è
```bash
# –û—á–∏—Å—Ç–∏—Ç—å –∏ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å
docker-compose down -v
docker-compose build --no-cache
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã
docker system df
docker system prune -f
```

#### 2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å PostgreSQL
docker-compose restart postgres_db

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
docker-compose exec postgres_db pg_isready -U postgres
```

#### 3. Email –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è  
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ notification service
docker-compose logs notification_service

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é SMTP –≤ docker-compose.yml
grep -A10 MAILERSEND docker-compose.yml
```

#### 4. JWT —Ç–æ–∫–µ–Ω—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å auth service
docker-compose restart auth_service

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Redis
docker exec pingtower-redis-1 redis-cli keys "*"
```

### üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
```bash
# –ú—è–≥–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose restart

# –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å –æ—á–∏—Å—Ç–∫–æ–π
docker-compose down
docker-compose up -d

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å –ø–µ—Ä–µ—Å–±–æ—Ä–∫–æ–π
docker-compose down
docker-compose build --no-cache
docker-compose up -d
```

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### Backend
- **Go 1.24** - –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- **Microservices** - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω
- **JWT** - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- **REST API** - HTTP –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **PostgreSQL 15** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —Å–∞–π—Ç—ã, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- **ClickHouse 23.8** - –ª–æ–≥–∏ –ø—Ä–æ–≤–µ—Ä–æ–∫, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä—è–¥—ã
- **Redis 7** - refresh —Ç–æ–∫–µ–Ω—ã, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

### –û—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π
- **Apache Kafka 7.4.0** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- **Zookeeper** - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è Kafka –∫–ª–∞—Å—Ç–µ—Ä–∞

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **Docker & Docker Compose** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **Swagger/OpenAPI 3.0.3** - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
- **SMTP (MailerSend)** - –¥–æ—Å—Ç–∞–≤–∫–∞ email

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞
- **Kafka UI** - http://localhost:8085 - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—á–µ—Ä–µ–¥–µ–π
- **Swagger UI** - http://localhost:8080/swagger - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API  
- **Health checks** - —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –æ—Ç–ª–∞–¥–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### üìä –î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

| –°–µ—Ä–≤–∏—Å | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|-----|----------|
| **API Gateway** | http://localhost:8080 | –û—Å–Ω–æ–≤–Ω–æ–π API |
| **Swagger UI** | http://localhost:8080/swagger | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API |
| **Kafka UI** | http://localhost:8085 | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—á–µ—Ä–µ–¥–µ–π |
| **PostgreSQL** | localhost:5432 | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö |
| **ClickHouse** | localhost:8123 | –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –ë–î |
| **Redis** | localhost:6379 | –ö—ç—à |
